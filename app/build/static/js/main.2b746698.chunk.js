(this.webpackJsonpflexapp=this.webpackJsonpflexapp||[]).push([[0],{232:function(e,t,a){e.exports=a(474)},237:function(e,t,a){},238:function(e,t,a){},243:function(e,t){},245:function(e,t){},473:function(e,t){},474:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(21),l=a.n(r),s=(a(237),a(238),a(15),a(35),a(5)),c=(a(140),a(9)),i=a(10),u=a(12),d=a(11),m=a(13),p=(n.Component,a(243),a(30)),h=a(87),E=a.n(h),g=(a(143),a(85)),b=[{value:"1",label:"No Preference"},{value:"2",label:"Morning"},{value:"3",label:"Afternoon"},{value:"4",label:"Evening"}],f=(o.a.Component,a(144),a(145),a(146),a(86)),v=a.n(f),O=(a(147),a(245),n.Component,n.Component,n.Component,n.Component,n.Component,o.a.Component,o.a.Component,a(478),a(94)),w=a(68),_=a.n(w),S=function(){return function(e){_.a.get("/users").then((function(t){e({type:"SET_USER",payload:t.data})})).catch((function(e){return console.log(e)}))}},C=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).handleSubmit=function(t){t.preventDefault();var a={email:e.state.email,password:e.state.password};e.props.loginUser(a,e.props.history)},e.handleChange=function(t){e.setState(Object(s.a)({},t.target.id,t.target.value))},e.state={email:"",password:"",errors:{}},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.UI.errors&&this.setState({errors:e.UI.erros})}},{key:"render",value:function(){var e,t,a=this.props,n=(a.classes,a.UI.loading,this.state.errors,this.props),r=n.email,l=n.password,c=n.authError;return o.a.createElement("div",{className:"login"},o.a.createElement("form",{onSubmit:this.handleSubmit,className:"form-signin text-center align-middle"},o.a.createElement("img",{className:"mb-3",src:"https://cdn.leisurex.org/social/logos/Logo-Full-Color.png",alt:"",width:"auto",height:"40"}),o.a.createElement("p",{class:"text-danger"},this.state.error),o.a.createElement("div",{className:"form-group"},o.a.createElement("section",null,o.a.createElement("label",{className:"sr-only"},"Email"),o.a.createElement("input",(e={id:"email_field",name:"email",placeholder:"Email",value:r,required:"",type:"text",className:"form-control"},Object(s.a)(e,"value",this.state.value),Object(s.a)(e,"onChange",this.handleChange),e))),o.a.createElement("section",null,o.a.createElement("label",{className:"sr-only"},"Password"),o.a.createElement("input",(t={id:"password_field",name:"password",value:l,placeholder:"Password",required:"",type:"password",className:"form-control"},Object(s.a)(t,"value",this.state.value),Object(s.a)(t,"onChange",this.handleChange),t)))),o.a.createElement("button",{onClick:this.handleClick,className:"btn btn-lg btn-block btn btn-primary",disabled:""},"Log In"),o.a.createElement("p",{className:"mt-5 mb-3 text-muted"},"\xa92019 LeisureX, Inc."),c?o.a.createElement("p",null,c):null))}}]),t}(n.Component),y={loginUser:function(e,t){return function(a){a({type:"LOADING_UI"}),_.a.post("/partner/login",e).then((function(e){"Bearer ".concat(e.data.token);localStorage.setItem("FBIdToken","Bearer' ".concat(e.data.token)),_.a.defaults.headers.common.Authorization="Bearer ",a(S()),a({type:"CLEAR_ERRORS"}),t.push("/partner/dashboard")})).catch((function(e){a({type:"SET_ERRORS",payload:e.response.data})}))}}},I=(Object(O.b)((function(e){return{user:e.user,UI:e.UI}}),y)(C),a(34)),N=a(135),j=a(43),R={authenticated:!1,credentails:{}},T=(a(309),{loading:!1,errors:null}),U=[N.a],k=Object(I.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTHENTICATED":return Object(j.a)({},e,{authenticated:!0});case"SET_UNAUTHENTICATED":return R;case"SET_USER":return Object(j.a)({authenticated:!0},t.payload);default:return e}},UI:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.types){case"SET_ERRORS":return Object(j.a)({},e,{loading:!1,errors:t.payload});case"CLEAR_ERRORS":return Object(j.a)({},e,{loading:!1,errors:null});case"LOADING_UI":return Object(j.a)({},e,{loading:!0});default:return e}}}),A=(Object(I.e)(k,{},Object(I.d)(I.a.apply(void 0,U),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),a(231)),D=a.n(A),x=localStorage.FBIdToken;x&&(1e3*D()(x).exp<Date.now()&&(!1,window.location.href="/login"));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(473);l.a.render(document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[232,1,2]]]);
//# sourceMappingURL=main.2b746698.chunk.js.map